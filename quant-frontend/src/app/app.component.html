<div class="container">
    <h1>{{ title }}</h1>
  
    <h2>Real-Time Position and Risk Table</h2>
  
    <table *ngIf="positionArray.length > 0" class="responsive-table">
      <thead>
        <tr>
          <th>Symbol</th>
          <th>Quantity</th>
          <th>Avg Cost</th>
          <th>**Market Price**</th>
          <th>**MTM P&L**</th>
          <th>**Historical VaR (95%)**</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let pos of positionArray">
          <td>{{ pos.symbol }}</td>
          <td>{{ pos.quantity | number:'1.0-0' }}</td>
          <td>{{ pos.average_cost | currency:'USD':'symbol':'1.2-2' }}</td>
          
          <td [ngClass]="{'price-up': pos.market_price > pos.average_cost, 'price-down': pos.market_price < pos.average_cost}">
            **{{ pos.market_price | currency:'USD':'symbol':'1.2-2' }}**
          </td>
          
          <td [ngClass]="{'pnl-positive': pos.mtm_pnl > 0, 'pnl-negative': pos.mtm_pnl < 0}">
            **{{ pos.mtm_pnl | currency:'USD':'symbol':'1.2-2' }}**
          </td>
          
          <td>
            **{{ pos.historical_var_95 | currency:'USD':'symbol':'1.2-2' }}**
          </td>
        </tr>
      </tbody>
    </table>
  
    <p *ngIf="positionArray.length === 0">Loading positions or no positions available...</p>
  </div>
  
  <style>
    .container { padding: 20px; font-family: sans-serif; }
    .responsive-table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    .responsive-table th, .responsive-table td { 
      border: 1px solid #ddd; padding: 10px; text-align: left; 
    }
    .responsive-table th { background-color: #f2f2f2; }
    .pnl-positive { color: #007f00; font-weight: bold; } /* Dark Green */
    .pnl-negative { color: #cc0000; font-weight: bold; } /* Dark Red */
    .price-up { background-color: #e6ffe6; } 
    .price-down { background-color: #ffe6e6; }
  </style>